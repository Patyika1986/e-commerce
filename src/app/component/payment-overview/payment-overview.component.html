<app-nav></app-nav>
<div class="wrapper">
  <div class="container">
    <div class="row">
      <div class="col">
        <h1>Payment overview</h1>
      </div>
    </div>

    <div class="row mt-3 mb-5">
      <div class="col">
        <select
          class="form-select"
          aria-label="Default select example"
          (change)="selectPayment($event)"
        >
          <option>---Choose your payment method---</option>
          <option value="{{ pay }}" *ngFor="let pay of paymentMethod">
            {{ pay }}
          </option>
        </select>
      </div>
    </div>

    <!--paypal-->
    <div id="paypal" *ngIf="payPal">
      <app-paypal-form
        [modalStatusText]="modalStatusText"
        [modalTitle]="modalTitle"
        (paypal)="payWithPayPal($event)"
        [paypalForm]="payPalForm"
      ></app-paypal-form>
    </div>

    <!--klarna-->
    <div id="klarna" *ngIf="klarna">
      <app-klarna-payment-form
        [modalStatusText]="modalStatusText"
        [modalTitle]="modalTitle"
        (klarna)="payWithKlarna($event)"
        [klarnaForms]="klarnaForm"
      ></app-klarna-payment-form>
    </div>

    <!--credit card-->
    <div id="credit-card" *ngIf="creditCard">
      <app-credit-card-form
        [modalStatusText]="modalStatusText"
        [modalTitle]="modalTitle"
        [creditForm]="creditCardForm"
        [totalPrice]="totalPrice"
        (creditCard)="payWithCreditCard()"
      ></app-credit-card-form>
    </div>
  </div>
</div>

<!--paypal modal-->

<!-- Modal -->
<div
  class="modal fade"
  id="exampleModal"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">
          {{ modalTitle }}
        </h1>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">{{ modalStatusText }}</div>
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-secondary"
          data-bs-dismiss="modal"
          (click)="closeModal()"
        >
          Close
        </button>
      </div>
    </div>
  </div>
</div>
